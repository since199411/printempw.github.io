<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />


<meta name="theme-color" content="#3C8DBC">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="HandheldFriendly" content="True" />


<meta name="description" content="这里是 @printempw 的个人博客，基本上啥都写：开发心得分享，日常吐槽吹逼，偶尔也会写正经文字，欢迎订阅。" />

  <meta name="keywords" content="621sama, printempw, blog, 博客, 独立博客, Hexo" />




<meta name="google-site-verification" content="WUNRfYChNMDduwLOFHG41TsVrre6BOaI7jKshEvtRts" />



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">


<meta name="generator" content="Hexo" />


<meta name="description" content="这里是 @printempw 的个人博客，基本上啥都写：开发心得分享，日常吐槽吹逼，偶尔也会写正经文字，欢迎订阅。">
<meta property="og:type" content="website">
<meta property="og:title" content="Blessing Studio">
<meta property="og:url" content="https://blessing.studio/page/16/index.html">
<meta property="og:site_name" content="Blessing Studio">
<meta property="og:description" content="这里是 @printempw 的个人博客，基本上啥都写：开发心得分享，日常吐槽吹逼，偶尔也会写正经文字，欢迎订阅。">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Blessing Studio">
<meta name="twitter:description" content="这里是 @printempw 的个人博客，基本上啥都写：开发心得分享，日常吐槽吹逼，偶尔也会写正经文字，欢迎订阅。">
<meta name="twitter:creator" content="@printempw">





  <link rel="alternate" href="/atom.xml" title="Blessing Studio">



  <link rel="canonical" href="https://blessing.studio/page/16/"/>



<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" sizes="192x192" href="/images/icon.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/images/touch-icon.png" />


<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/libs/fancybox/source/jquery.fancybox.css">
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">


<link rel="stylesheet" type="text/css" href="https://fonts.cat.net/css?family=Alegreya" />
<link rel="stylesheet" type="text/css" href="https://fonts.cat.net/css?family=Alegreya+SC" />
<link rel="stylesheet" type="text/css" href="https://fonts.cat.net/css?family=Roboto+Slab">
<link rel="stylesheet" type="text/css" href="https://fonts.cat.net/css?family=PT+Serif">


    <title>Blessing Studio - (ゝω·)~ kira</title>
  </head>

  <body lang="zh-CN">

    <div id="pageframe" class="fw">
      <script type="text/javascript" src="/js/nanobar.js"></script>
<script type="text/javascript">
    /* Initial NanoBar */
    var nanobar = new Nanobar({
        bg: "#BEDBEC",
        target: document.getElementById("pageframe"),
        id: "inb"
    });
</script>


      <div id="top" class="fw clf">
        <div id="header" class="wc center">
  <div class="logo-container left">
    
    <div class="logo left">
      <a href="https://blessing.studio"><img src="/images/logo.png"></a>
    </div>
  </div>

  <div class="social right">
    
    <div class="ico right" id="tg-s"><a href="javascript:void()" class="fa fa-search"></a></div>
    <form role="search" method="get" id="searchform-top" action="https://www.google.com/search">
      <input type="hidden" name="sitesearch" value="https://blessing.studio">
      <input type="text" name="q" id="s-top" placeholder="搜一搜 (ゝω·)☆ " />
    </form>

    
    <div id="toggler" class="right">
      
        
          <div class="ico">
            <a href="https://twitter.com/printempw" target="_blank" title="Twitter" class="fa fa-twitter"></a>
          </div>
        
          <div class="ico">
            <a href="https://github.com/printempw" target="_blank" title="GitHub" class="fa fa-github"></a>
          </div>
        
      
      <div class="ico">
        <a href="/atom.xml" target="_blank" class="fa fa-rss" ></a>
      </div>
    </div>

    <div class="ico right" id="tg-m"><a href="javascript:;" class="fa fa-bars"></a></div>
  </div>

  <div class="topmenu left">
    <div class="menu-container">
      <ul class="menu">
  
    
    <li class="menu-item menu-item-tech">
      <a href="/categories/tech/" title="提高姿势水平" rel="section">
      技术
      </a>
    </li>
  
    
    <li class="menu-item menu-item-archive">
      <a href="/archives/" title="总览历史文章" rel="section">
      归档
      </a>
    </li>
  
    
    <li class="menu-item menu-item-kaomoji">
      <a href="javascript:void;" title="点我点我" rel="section">
      (´・ω・`)
      </a>
    </li>
  
</ul>

    </div>
  </div>
  <div class="left clf"></div>

</div>

      </div>

      <div id="container" class="wc center clf 
   page-home 
">
        <script type="text/javascript">nanobar.go(20);</script>

        <div id="content" class="wp">
          
  
    

    <article class="post post-type-normal hentry">
      <h2 class="post-title">
        <a href="/bye-qujing/">为曲径默哀</a>
      </h2>

      <div class="post-content">
        
          <blockquote>
<h3 id="向曲径说再见"><a href="#向曲径说再见" class="headerlink" title="向曲径说再见"></a>向曲径说再见</h3><p>曲径从诞生至今，为科技工作者和在校师生，在获取商业信息和学术研究等方面提供了很大的方便和技术支持。在曲径运作中，个别问题还处于法律空白，有些问题还存在争议。</p>
<p>为了维护国家互联网法律和政策，保证互联网用户获取信息内容和渠道的安全性，国家要求互联网用户从正规渠道获取信息。基于该原因，曲径自觉遵守国家的法律、法规和政策，已在2015年7月28日，自愿将名下所有互联网服务关停，并不再提供类似的服务。曲径开发者将从事其它领域的工作。</p>
</blockquote>
<p><a href="https://getqujing.com/" target="_blank" rel="external">https://getqujing.com/</a></p>
<p>走好。</p>

        
      </div>

      <div class="post-meta clf">
  <span class="pmt pms fa-book">
    
      <a class="category-link" href="/categories/essay/">随笔</a>
    
  </span>
  <span class="pmt pms fa-clock-o">2015-07-30</span>
  <span class="pmt pms fa-eye">
    <span id="post-view" data="bye-qujing/">Loading</span> Hits
  </span>
  <span class="pmt pms extra fa-tag">
    
      <a class="tag-link" href="/tag/审查制度/">审查制度</a>
    
  </span>
</div>

    </article>
  
    

    <article class="post post-type-normal hentry">
      <h2 class="post-title">
        <a href="/linux-install-memcached-and-enable-memcache-for-wordpress/">Linux 安装 memcached 并启用 Wordpress memcache 缓存</a>
      </h2>

      <div class="post-content">
        
          <p>首先先来理一下 memcache 和 memcached 的区别：</p>
<blockquote>
<p><a href="http://memcached.org/" target="_blank" rel="external">Memcache</a> 是一个自由和开放源代码、高性能的、具有分布式对象的缓存系统。它可以用来保存一些经常存取的对象或数据，加速动态 web 应用程序，减轻数据库负载。保存的数据像一张巨大的 HASH 表，该表以键值对的方式存在内存中。</p>
</blockquote>
<p>Memcache 是这个项目的名称，memcached 是这个项目的主程序名称也是守护进程。还有一个 memcached 是 php-extension。</p>
<p>环境：<em>Ubuntu 14.04.2 LTS (GNU/Linux 3.13.0-57-generic i686) with lnmp</em></p>
<h3 id="一、安装-memcached-服务端"><a href="#一、安装-memcached-服务端" class="headerlink" title="一、安装 memcached 服务端"></a>一、安装 memcached 服务端</h3><p>网上的都是下载源码本地编译的，但是可以 apt-get 的话为什么不用呢？</p>
<p>apt-get install memcached memcached -d -m 128 -u root -p 11211 #启动 memcached 服务</p>
<p>参数说明：</p>
<p><em>-p  侦听的端口，默认为 11211</em><br><em>-m  使用内存大小，默认为 64m</em><br><em>-d  作为守护进程启动</em></p>
<p>可以用 <span class="lang:sh decode:true crayon-inline">ps -ef|grep memcached</span>  或者 <span class="lang:sh decode:true  crayon-inline">telnet 127.0.0.1 11211</span>  查看 memcached 服务状态</p>
<h3 id="二、安装-PHP-memcached-扩展"><a href="#二、安装-PHP-memcached-扩展" class="headerlink" title="二、安装 PHP memcached 扩展"></a>二、安装 PHP memcached 扩展</h3><p>这个就没有那么方便了，要自己编译，在<a href="http://pecl.php.net/package/memcached" target="_blank" rel="external">这里</a>选一个版本下载解压（注意 memcached 和 memcache 两种 php 扩展的区别，推荐 php-memcached </p>
<p>wget <a href="http://pecl.php.net/get/memcached-2.1.0.tgz" target="_blank" rel="external">http://pecl.php.net/get/memcached-2.1.0.tgz</a> tar -xvf memcached-2.1.0.tgz</p>
<p>开始编译：（机灵点儿，下面 php 路径自己看着改</p>
<p>/usr/local/php/bin/phpize ./configure –with-php-config=/usr/local/php/bin/php-config make &amp;&amp; make install</p>
<p>编译成功后会输出</p>
<blockquote>
<p>Installing shared extensions:     /usr/local/php/lib/php/extensions/no-debug-non-zts-20090626/</p>
</blockquote>
<p>ls 一下这个目录，</p>
<p><a href="https://img.blessing.studio/images/2015/07/2015-07-28_14-47-15.png" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-28_14-47-15.png" alt="20150726203222"></a></p>
<p>多了一个编译出来的 memcache.so ，mv 到你的 <em>php extension dir</em> 里去（可以在 phpinfo() 中查看</p>
<p>然后在 php.ini 的最后加入一句</p>
<p>extension = memcache.so</p>
<p>重启 php-fpm 和 nginx 后就可以在 phpinfo() 中看到扩展信息了</p>
<p><a href="https://img.blessing.studio/images/2015/07/2015-07-28_14-51-15.png" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-28_14-51-15.png" alt="phpinfo"></a></p>
<h3 id="三、在-WordPress-中启用-memcache-缓存"><a href="#三、在-WordPress-中启用-memcache-缓存" class="headerlink" title="三、在 WordPress 中启用 memcache 缓存"></a>三、在 WordPress 中启用 memcache 缓存</h3><p>推荐 W3-Total-Cache，运行 W3TC 的 compatibility check 可以看到 memcache 已经安装成功可以使用了</p>
<p><a href="https://img.blessing.studio/images/2015/07/2015-07-29_03-14-37.png" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-29_03-14-37.png" alt="w3tc_memcache"></a></p>
<p>具体设置就不说了，自己看着改吧。</p>
<p>（如果跟窝一样无法忍受 W3TC 的破图标的话就看一下<a href="https://prinzeugen.net/way-to-change-icon-of-w3-total-cache-in-admin-menu-sidebar/" target="_blank" rel="external">这一篇</a>吧</p>

        
      </div>

      <div class="post-meta clf">
  <span class="pmt pms fa-book">
    
      <a class="category-link" href="/categories/tech/">技术</a>
    
  </span>
  <span class="pmt pms fa-clock-o">2015-07-29</span>
  <span class="pmt pms fa-eye">
    <span id="post-view" data="linux-install-memcached-and-enable-memcache-for-wordpress/">Loading</span> Hits
  </span>
  <span class="pmt pms extra fa-tag">
    
      <a class="tag-link" href="/tag/Linux/">Linux</a>, <a class="tag-link" href="/tag/WordPress/">WordPress</a>
    
  </span>
</div>

    </article>
  
    

    <article class="post post-type-normal hentry">
      <h2 class="post-title">
        <a href="/change-the-favicon/">站点换了 favicon</a>
      </h2>

      <div class="post-content">
        
          <p>站点换了 favicon ，玩 ghost 的可能比较熟悉。。 <img src="https://img.blessing.studio/images/2015/07/2015-07-28_06-29-38.png" alt="favicon_green"></p>
<p><a href="https://img.blessing.studio/images/2015/07/2015-07-28_06-27-19.png" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-28_06-27-19.png" alt="ghostchina"></a></p>
<p>没错就是从 ghost 中文网扒下来的 <a href="https://img.blessing.studio/images/2015/05/2015-05-24_09-19-27.png" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/05/2015-05-24_09-19-27.png" alt="i_f16"></a> 感觉挺好看就改了个色贴上去了。</p>
<p>原来那个表情 favicon 太糊，如果没见过原图的话可能会不明所以 <a href="https://img.blessing.studio/images/2015/07/2015-07-11_13-57-54.jpg" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-11_13-57-54.jpg" alt="20150711215742"></a></p>

        
      </div>

      <div class="post-meta clf">
  <span class="pmt pms fa-book">
    
      <a class="category-link" href="/categories/diary/">日常</a>
    
  </span>
  <span class="pmt pms fa-clock-o">2015-07-28</span>
  <span class="pmt pms fa-eye">
    <span id="post-view" data="change-the-favicon/">Loading</span> Hits
  </span>
  <span class="pmt pms extra fa-tag">
    
      <a class="tag-link" href="/tag/博客/">博客</a>
    
  </span>
</div>

    </article>
  
    

    <article class="post post-type-normal hentry">
      <h2 class="post-title">
        <a href="/hacg-ssl/">琉璃神社也艹上了 SSL</a>
      </h2>

      <div class="post-content">
        
          <p>今天去看看的时候发现闭站维护了，没多大在意，结果一瞟发现竟然是 https <a href="https://img.blessing.studio/images/2015/07/2015-07-17_03-28-41.jpg" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-17_03-28-41.jpg" alt="20150717112829"></a></p>
<p><a href="https://img.blessing.studio/images/2015/07/2015-07-27_10-50-53.png" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-27_10-50-53.png" alt="hacg"></a> <a href="https://img.blessing.studio/images/2015/07/2015-07-27_10-52-35.png" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-27_10-52-35.png" alt="ssl"></a></p>
<p>证书是和窝一样的 Wosign Class1 免费证书</p>
<p>SSL 大法好，麻麻再也不用担心被抓关键词辣 <a href="https://img.blessing.studio/images/2015/05/2015-05-24_09-19-27.png" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/05/2015-05-24_09-19-27.png" alt="i_f16"></a></p>
<p><strong>UPDATE：</strong>琉璃神社能访问了，再一瞟。。</p>
<p><a href="https://img.blessing.studio/images/2015/07/2015-07-27_10-55-39.png" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-27_10-55-39.png" alt="CLOUDFLARE"></a></p>
<p>woc <em>CloudFlare</em> <a href="https://img.blessing.studio/images/2015/05/2015-05-31_10-01-03.jpg" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/05/2015-05-31_10-01-03.jpg" alt="QQ图片20150531180053"></a> 看来 H 萌是被 D 怕了</p>

        
      </div>

      <div class="post-meta clf">
  <span class="pmt pms fa-book">
    
      <a class="category-link" href="/categories/diary/">日常</a>
    
  </span>
  <span class="pmt pms fa-clock-o">2015-07-28</span>
  <span class="pmt pms fa-eye">
    <span id="post-view" data="hacg-ssl/">Loading</span> Hits
  </span>
  <span class="pmt pms extra fa-tag">
    
      <a class="tag-link" href="/tag/Https/">Https</a>
    
  </span>
</div>

    </article>
  
    

    <article class="post post-type-normal hentry">
      <h2 class="post-title">
        <a href="/way-to-change-icon-of-w3-total-cache-in-admin-menu-sidebar/">替换 W3 Total Cache 在 Wordpress 后台侧边栏图标的方法</a>
      </h2>

      <div class="post-content">
        
          <p>W3 Total Cache 是个很好的 WordPress 缓存插件，提供页面数据库等等的硬盘缓存和 memcached 缓存，比 WP Super Cache 不知道高到哪里去了（笑，然而这个极好的插件却。。</p>
<h3 id="TMD-在侧边栏上的图标和其他的-没！对！齐！"><a href="#TMD-在侧边栏上的图标和其他的-没！对！齐！" class="headerlink" title="TMD 在侧边栏上的图标和其他的 没！对！齐！"></a>TMD 在侧边栏上的图标和其他的 没！对！齐！</h3><h3 id="还-TM-是彩！色！的！Fucking-Colorfuuuuul"><a href="#还-TM-是彩！色！的！Fucking-Colorfuuuuul" class="headerlink" title="还 TM 是彩！色！的！Fucking Colorfuuuuul !"></a>还 TM 是彩！色！的！Fucking Colorfuuuuul !</h3><p><a href="https://img.blessing.studio/images/2015/07/2015-07-27_06-58-45.png" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-27_06-58-45.png" alt="W3"></a> 看看这破玩意儿，卧槽这尼玛果断不能忍啊 <a href="https://img.blessing.studio/images/2015/05/2015-05-24_09-19-271.png" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/05/2015-05-24_09-19-271.png" alt="i_f33"></a></p>
<p>忍着不适将其配置好后马上开始着手替换这破图标。第一步自然是搜索引擎大法，遗憾的是都没有人写类似的文章。。难道用 W3TC 的强迫症只有窝这么一个吗。没办法了，自己动手，丰衣足食。</p>
<p>想到的第一个办法是替换图标源文件。审查元素发现是在 <em>w3-total-cache/pub/img/w3tc-sprite.png</em>，</p>
<p>包含了 mouseover 和 mouseout 的两种图标，还有个 <em>w3tc-sprite-retina.png</em> 适用于高分辨率。。<a href="https://img.blessing.studio/images/2015/07/2015-07-11_13-57-54.jpg" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-11_13-57-54.jpg" alt="20150711215742"></a> 尼玛这搞个 dio 啊搞起来麻烦死了啊混蛋，还是用从代码下手吧</p>
<p>把插件下载下来，shell 下执行 <span class="lang:sh decode:true crayon-inline">find .|xargs grep -ri “w3tc-sprite.png” -l</span>  /<em> <a href="#1">坑1</a> </em>/，定位到引用此图标的文件 <em>./lib/W3/Plugin/TotalCacheAdmin.php</em> ，再定位至</p>
<p>#toplevel_page_w3tc_dashboard .wp-menu-image { background: url(&lt;?php echo plugins_url(‘w3-total-cache/pub/img/w3tc-sprite.png’)?&gt;) no-repeat 0 -32px !important; }</p>
<p>还有一大段差不多的代码窝就不贴了，将其注释掉（聪明点，别一大块注释，不然会有奇怪的错误 </p>
<p>这段代码是自定义当添加侧边栏菜单的函数</p>
<p>add_menu_page( $page_title, $menu_title, $capability, $menu_slug, $function, $icon_url, $position );</p>
<p><span style="line-height: 1.5;">没有指定 $icon_url 时的 CSS 。具体原文在</span><a href="http://codex.wordpress.org/Function_Reference/add_menu_page" target="_blank" rel="external">这里</a><span style="line-height: 1.5;">。</span></p>
<p>注释掉保存后刷新页面可以看到侧边栏的骰子图标不见了。接下来就要自定义图标了。这里窝用的是 WordPress 中的图标字体，具体都有什么可以看<a href="https://developer.wordpress.org/resource/dashicons/#admin-generic" target="_blank" rel="external">这里</a>。窝用了 dashicons-admin-generic 的齿轮图标</p>
<p><a href="https://img.blessing.studio/images/2015/07/2015-07-27_07-19-01.png" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-27_07-19-01.png" alt="gear"></a></p>
<p>具体使用方法就是在 $icon_url 参数位置填上 <span class="lang:default decode:true  crayon-inline ">‘dashicons-admin-generic’</span> //<a href="#2">坑2</a></p>
<p>再次查找使用了 add_menu_page 函数的文件 <span class="lang:sh decode:true  crayon-inline ">find .|xargs grep -ri “add_menu_page” -l</span> ，可以看到是在 <em>./lib/W3/Menus.php</em> 里调用的，调用代码是这样的：</p>
<p>add_menu_page(<strong>(‘Performance’, ‘w3-total-cache’), </strong>(‘Performance’, ‘w3-total-cache’), ‘manage_options’, ‘w3tc_dashboard’, ‘’, ‘div’);</p>
<p>将其替换成这样：</p>
<p>add_menu_page(<strong>(‘Performance’, ‘w3-total-cache’), </strong>(‘Performance’, ‘w3-total-cache’), ‘manage_options’, ‘w3tc_dashboard’,’’,’dashicons-admin-generic’, ‘div’);</p>
<p>坑2注意，WP 官方给的函数中参数有 7 个，但是 W3TC 中只用了 6 个。咱当时将那个空引号替换后发现没生效还以为是窝哪里搞错了又到处寻找解决方法。。。（扶额 ，估计那个空引号是 $function 吧，窝具体也没深入了解</p>
<p>总之将其这样替换后，图标问题是已经完美解决了 <a href="https://img.blessing.studio/images/2015/03/20150329080245.jpg" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/03/20150329080245.jpg" alt="20150329080245"></a></p>
<p><a href="https://img.blessing.studio/images/2015/07/2015-07-27_07-31-16.png" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-27_07-31-16.png" alt="dekita"></a> 唯一的问题就是不知道为啥图标到最后去了。。</p>
<p>难道是 css 定位出问题了。。嘛，能用就行了 <a href="https://img.blessing.studio/images/2015/03/i_f25.png" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/03/i_f25.png" alt="i_f25"></a> 总算了却窝心头一桩大事</p>
<p>关于坑一：</p>
<p>吗的窝本来不知道用 find 一个文件一个文件翻过去找的窝好苦啊 <a href="https://img.blessing.studio/images/2015/05/2015-05-24_09-19-271.png" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/05/2015-05-24_09-19-271.png" alt="i_f33"></a></p>

        
      </div>

      <div class="post-meta clf">
  <span class="pmt pms fa-book">
    
      <a class="category-link" href="/categories/tech/">技术</a>
    
  </span>
  <span class="pmt pms fa-clock-o">2015-07-27</span>
  <span class="pmt pms fa-eye">
    <span id="post-view" data="way-to-change-icon-of-w3-total-cache-in-admin-menu-sidebar/">Loading</span> Hits
  </span>
  <span class="pmt pms extra fa-tag">
    
      <a class="tag-link" href="/tag/PHP/">PHP</a>, <a class="tag-link" href="/tag/WordPress/">WordPress</a>
    
  </span>
</div>

    </article>
  
    

    <article class="post post-type-normal hentry">
      <h2 class="post-title">
        <a href="/wordpress-comment-mail-notify/">开启 Wordpress 评论回复邮件通知</a>
      </h2>

      <div class="post-content">
        
          <p>以前就注意到 wp 有这个功能了，可以在评论被回复时发邮件通知评论者，是个增强用户粘性的好方法。然而窝这犄角旮旯的能来几个人就不错了，哪有人闲得蛋疼来评论呢，所以咱也就没在意。</p>
<p>然而就在昨天，窝的博客迎来了激动人心的历史上的跨越：</p>
<h3 id="有窝不认识的人发表了评论！"><a href="#有窝不认识的人发表了评论！" class="headerlink" title="有窝不认识的人发表了评论！"></a>有窝不认识的人发表了评论！</h3><p>woc 窝当时心里真激动啊，这是评论者的一小步是人博客的一大步啊<a href="https://img.blessing.studio/images/2015/07/2015-07-15_14-49-46.jpg" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-15_14-49-46.jpg" alt="20150715224933"></a></p>
<p>窝当时就抄起键盘准备回复，突然一想没有邮件通知玩个卵啊</p>
<p>遂搜索了一大堆方法，其中也踩了不少坑，在这里记录一下。</p>
<p>原生 wp 的邮件发送是使用 php 的 mail() 函数，这点在后台登陆页的忘记密码处可以得知。你可以在 <a href="http://www.yahei.net/" target="_blank" rel="external">探针</a> 里查看你的 mail() 函数是否启用。使用 mail() 函数的方法请自行搜索。</p>
<p>首先去找一个启用 SMTP 的插件，这里推荐 Easy WP SMTP。配置不多说，请自行搞到能收到测试邮件。</p>
<p>如果你的主题自带回复提醒的话现在就可以测试一下了 // <a href="#1">坑1</a></p>
<p>对于没有这个功能主题，打开开主题的 function.php ，在合适位置加入如下代码：</p>
<p>//评论回复邮件 function comment_mail_notify($comment_id) { $comment = get_comment($comment_id); $parent_id = $comment-&gt;comment_parent ? $comment-&gt;comment_parent : ‘’; $spam_confirmed = $comment-&gt;comment_approved; if (($parent_id != ‘’) &amp;&amp; ($spam_confirmed != ‘spam’)) { $wp_email = ‘reply@’ . preg_replace(‘#^www.#’, ‘’, strtolower($_SERVER[‘SERVER_NAME’])); //发件人邮件地址 $to = trim(get_comment($parent_id)-&gt;comment_author_email); $subject = ‘有人回复你在 ‘ . get_option(“blogname”) . ‘ 上的评论辣’; //酌情更改 $message = ‘<table style="width: 99.8%;height:99.8% "><tbody><tr><td style="background:#FAFAFA url(https://files.prinzeugen.net/Resources/pics/mail_background.png)"><div style="background-color:white;border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;width:500px;margin:50px auto;color:#555555;font-family:Century Gothic,Trebuchet MS,Hiragino Sans GB,微软雅黑,Microsoft Yahei,Tahoma,Helvetica,Arial,SimSun,sans-serif;font-size:12px;"> <h2 style="border-bottom:1px solid #DDD;font-size:14px;font-weight:normal;padding:13px 0 10px 8px;"><span style="color: #12ADDB;font-weight: bold;">&gt; </span>您在<a style="text-decoration:none;color: #12ADDB;" href="' . get_option('home') . '"> ‘ . get_option(‘blogname’) . ‘ </a>博客上的留言有回复啦！</h2> <div style="padding:0 12px 0 12px;margin-top:18px"><p>‘ . trim(get_comment($parent_id)-&gt;comment_author) . ‘ ，您曾在文章《’ . get_the_title($comment-&gt;comment_post_ID) . ‘》上发表评论:</p> <p style="background-color: #f5f5f5;border: 0px solid #DDD;padding: 10px 15px;margin:18px 0">‘ . nl2br(get_comment($parent_id)-&gt;comment_content) . ‘</p> <p>‘ . trim($comment-&gt;comment_author) . ‘ 给您的回复如下:</p> <p style="background-color: #f5f5f5;border: 0px solid #DDD;padding: 10px 15px;margin:18px 0">‘ . nl2br($comment-&gt;comment_content) . ‘</p> <p>您可以点击 <a style="text-decoration:none; color:#12addb" href="' . htmlspecialchars(get_comment_link($parent_id)) . '">查看回复的完整內容 </a>。欢迎再次光临 <a style="text-decoration:none; color:#12addb" href="' . get_option('home') . '">‘ . get_option(‘blogname’) . ‘ </a>。</p> <p>此邮件由系统自动发出，就算你回复了窝也不会回复你哟 ﾟ∀ﾟ)σ</p> </div></div></td></tr></tbody></table>‘; $from = “From: \”” . get_option(‘blogname’) . “\” &lt;$wp_email&gt;”; $headers = “$from\nContent-Type: text/html; charset=” . get_option(‘blog_charset’) . “\n”; wp_mail( $to, $subject, $message, $headers ); //echo ‘mail to ‘, $to, ‘<br> ‘ , $subject, $message; // for testing } } add_action(‘comment_post’, ‘comment_mail_notify’); //窝还以为设置完 SMTP 后还要一些别的设置，没想到这里用了 wp 钩子就已经解决了（扶额</p>
<p>代码的意思看看函数名变量名之类的就可以懂了吧~</p>
<p>初次使用请将代码底部的 echo 反注释，方便调试</p>
<p>成功后发送的邮件大概是这样的：</p>
<p><table style="width: 99.8%; height: 99.8%;"><tbody><tr><td style="background: #FAFAFA url('https://files.prinzeugen.net/Resources/pics/mail_background.png');"><div style="background-color: white; border-top: 2px solid #12ADDB; box-shadow: 0 1px 3px #AAAAAA; line-height: 180%; padding: 0 15px 12px; width: 500px; margin: 50px auto; color: #555555; font-family: Century Gothic,Trebuchet MS,Hiragino Sans GB,微软雅黑,Microsoft Yahei,Tahoma,Helvetica,Arial,SimSun,sans-serif; font-size: 12px;"></div></td></tr></tbody></table></p>
<h2 id="gt-您在-ゝω·-☆-kira-博客上的留言有回复啦！"><a href="#gt-您在-ゝω·-☆-kira-博客上的留言有回复啦！" class="headerlink" title="&gt; 您在 (ゝω·)~☆ kira 博客上的留言有回复啦！"></a><span style="color: #12addb; font-weight: bold;">&gt; </span>您在<a href="https://prinzeugen.net" target="_blank" rel="external"> (ゝω·)~☆ kira </a>博客上的留言有回复啦！</h2><div style="padding: 0 12px 0 12px; margin-top: 18px;">printempw ，您曾在文章《关于》上发表评论:<br><br>TEST FOR MAIL<br><br>printempw 给您的回复如下:<br><br>FXCK U MAN<br><br>您可以点击 <a href="https://prinzeugen.net/about/#comment-88" target="_blank" rel="external">查看回复的完整內容 </a>。欢迎再次光临 <a href="https://prinzeugen.net" target="_blank" rel="external">(ゝω·)~☆ kira </a>。<br><br>此邮件由系统自动发出，就算你回复了窝也不会回复你哟 ﾟ∀ﾟ)σ<br><br></div>想要更改邮件样式请自行更改 <strong>$message</strong> 内的内容，窝也贴一段别的样式<br><br>$message = ‘<div style="border-right:#666666 1px solid;border-radius:8px;color:#111;font-size:12px;width:702px;border-bottom:#666666 1px solid;font-family:微软雅黑,arial;margin:10px auto 0px;border-top:#666666 1px solid;border-left:#666666 1px solid"><div class="adM"> </div><div style="width:100%;background:#666666;min-height:60px;color:white;border-radius:6px 6px 0 0"><span style="line-height:60px;min-height:60px;margin-left:30px;font-size:12px">您在 <a style="color:#00bbff;font-weight:600;text-decoration:none" href="' . get_option('home') . '" target="_blank">‘ . get_option(‘blogname’) . ‘</a> 上的留言有回复啦！</span> </div> <div style="margin:0px auto;width:90%"> <p>‘ . trim(get_comment($parent_id)-&gt;comment_author) . ‘, 您好!</p> <p>您于’ . trim(get_comment($parent_id)-&gt;comment_date) . ‘ 在文章《’ . get_the_title($comment-&gt;comment_post_ID) . ‘》上发表评论: </p> <p style="border-bottom:#ddd 1px solid;border-left:#ddd 1px solid;padding-bottom:20px;background-color:#eee;margin:15px 0px;padding-left:20px;padding-right:20px;border-top:#ddd 1px solid;border-right:#ddd 1px solid;padding-top:20px">‘ . nl2br(get_comment($parent_id)-&gt;comment_content) . ‘</p> <p>‘ . trim($comment-&gt;comment_author) . ‘ 于’ . trim($comment-&gt;comment_date) . ‘ 给您的回复如下: </p> <p style="border-bottom:#ddd 1px solid;border-left:#ddd 1px solid;padding-bottom:20px;background-color:#eee;margin:15px 0px;padding-left:20px;padding-right:20px;border-top:#ddd 1px solid;border-right:#ddd 1px solid;padding-top:20px">‘ . nl2br($comment-&gt;comment_content) . ‘</p> <p>您可以点击 <a style="color:#00bbff;text-decoration:none" href="' . htmlspecialchars(get_comment_link($parent_id)) . '" target="_blank">查看回复的完整內容</a></p> <p>感谢你对 <a style="color:#00bbff;text-decoration:none" href="' . get_option('home') . '" target="_blank">‘ . get_option(‘blogname’) . ‘</a> 的关注，欢迎再次光临~(｀･ω･)</p><p>（此邮件由系统自动发出，就算你回复了窝也不会回复你哟 ﾟ∀ﾟ)σ）</p></div></div>‘;<br><br>这是预览：<br><br><div style="border-radius: 8px; color: #111; font-size: 12px; width: 702px; font-family: 微软雅黑,arial; margin: 10px auto 0px; border: #666666 1px solid;"><div style="width: 100%; background: #666666; min-height: 60px; color: white; border-radius: 6px 6px 0 0;"><span style="line-height: 60px; min-height: 60px; margin-left: 30px; font-size: 12px;">您在 <a href="https://prinzeugen.net" target="_blank" rel="external">(ゝω·)~☆ kira</a> 上的留言有回复啦！</span></div><div style="margin: 0px auto; width: 90%;">H, 您好!<br><br>您于2015-07-26 14:29:42 在文章《关于》上发表评论:<br><br>AAA I WANT A MAIL<br><br>printempw 于2015-07-26 15:10:35 给您的回复如下:<br><br>蛤<br><br>您可以点击 <a href="https://prinzeugen.net/about/#comment-81" target="_blank" rel="external">查看回复的完整內容</a><br><br>感谢你对 <a href="https://prinzeugen.net" target="_blank" rel="external">(ゝω·)~☆ kira</a> 的关注，欢迎再次光临~(｀･ω･)<br><br>此邮件由系统自动发出，就算你回复了窝也不会回复你哟 ﾟ∀ﾟ)σ<br><br></div></div> 

<p>//关于坑1</p>
<p>应该是窝主题里的函数哪里出了问题害的窝 SMTP 不行 mail() 也不行折腾了一下午（扶额</p>
<p>如果你明明 SMTP 可以发件但是收不到回复邮件的话，可以在这个函数顶上写个 wp_mail() （参数自己看）来调试</p>
<p>上面的是在别处扒来的，不过这样的话那个评论复选框就没用了呢 <a href="https://img.blessing.studio/images/2015/07/2015-07-17_03-28-41.jpg" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-17_03-28-41.jpg" alt="20150717112829"></a> 等有时间窝在把判断逻辑也写进去</p>

        
      </div>

      <div class="post-meta clf">
  <span class="pmt pms fa-book">
    
      <a class="category-link" href="/categories/tech/">技术</a>
    
  </span>
  <span class="pmt pms fa-clock-o">2015-07-27</span>
  <span class="pmt pms fa-eye">
    <span id="post-view" data="wordpress-comment-mail-notify/">Loading</span> Hits
  </span>
  <span class="pmt pms extra fa-tag">
    
      <a class="tag-link" href="/tag/PHP/">PHP</a>, <a class="tag-link" href="/tag/WordPress/">WordPress</a>
    
  </span>
</div>

    </article>
  
    

    <article class="post post-type-normal hentry">
      <h2 class="post-title">
        <a href="/nginx-rewrite/">使用 nginx rewrite 实现域名自动跳转</a>
      </h2>

      <div class="post-content">
        
          <p>咱是全站 ssl 加密的，自然不能让访客以 http 协议明文访问。要实现 http 访问自动重定向至 https，可以使用 nginx 的 rewrite 语句。</p>
<p>虽然咱是早就实现了，但是最近由于种种原因重新配置时又要再去搜索，遂写篇文章备忘。</p>
<p><strong>http 跳转到 https：</strong></p>
<p>rewrite ^(.*)$  <a href="https://$host$1" target="_blank" rel="external">https://$host$1</a> permanent;</p>
<p><strong>带 www 域名跳转到根域名：</strong></p>
<p>if ($host ~<em> www.prinzeugen.net) { rewrite ^/(.</em>)$ <a href="https://prinzeugen.net/$1" target="_blank" rel="external">https://prinzeugen.net/$1</a> permanent; }</p>
<p>顺带一提如果需要这几句话的地方比较多，可以写个 conf 直接 include，举个栗子：</p>
<p>在 rewrite.conf 中写上上面的语句，然后在 <strong>nginx.conf</strong> 中写一句：</p>
<p>include /home/wwwroot/lnmp/rewrite.conf;</p>
<p>就可以了。BTW，如果是 amh 面板用户，在 amhrewrite 模块中加入上面的语句就好了。</p>

        
      </div>

      <div class="post-meta clf">
  <span class="pmt pms fa-book">
    
      <a class="category-link" href="/categories/tech/">技术</a>
    
  </span>
  <span class="pmt pms fa-clock-o">2015-07-26</span>
  <span class="pmt pms fa-eye">
    <span id="post-view" data="nginx-rewrite/">Loading</span> Hits
  </span>
  <span class="pmt pms extra fa-tag">
    
      <a class="tag-link" href="/tag/Nginx/">Nginx</a>
    
  </span>
</div>

    </article>
  
    

    <article class="post post-type-normal hentry">
      <h2 class="post-title">
        <a href="/windows-10130-plus-cant-be-installed-on-g3258/">已证实 G3258 无法安装 Windows 10130+ （附暂时解决方法</a>
      </h2>

      <div class="post-content">
        
          <h3 id="UPDATE：已找到完美解决方法，请移步-https-prinzeugen-net-win10-rtm-enable-g3258-dual-core"><a href="#UPDATE：已找到完美解决方法，请移步-https-prinzeugen-net-win10-rtm-enable-g3258-dual-core" class="headerlink" title="UPDATE：已找到完美解决方法，请移步 https://prinzeugen.net/win10-rtm-enable-g3258-dual-core/"></a><strong>UPDATE：</strong>已找到完美解决方法，请移步 <a href="https://prinzeugen.net/win10-rtm-enable-g3258-dual-core/" target="_blank" rel="external">https://prinzeugen.net/win10-rtm-enable-g3258-dual-core/</a></h3><hr>
<p>昨天晚上窝就下载了OEM 泄露的 win10 RTM iso，因为 Windows Update 一直升级失败，挂着安装。。然后就出现了错误</p>
<blockquote>
<p>无法安装 Windows 10</p>
<p>0xC1900101 – 0X20017</p>
<p>在 BOOT 操作过程中的 SAFE_OS 阶段，安装失败，出现错误</p>
</blockquote>
<p>但是太晚了就懒得折腾也没觉得多大点事儿就睡觉了。今早起来再次安装依然 same error。</p>
<p>窝当时心里挺慌，觉得大概是 iso 的问题，遂下载了 10240 的 iso（NOW ON 10130），然而还是同样的错误。尝试全新安装，USB Boot，HDD Boot 全都是 same error。看来自己是无法解决了，遂使用搜索引擎（已百度搜过但是没有有效解决方法。</p>
<p>搜索了大概 30 min+（Google 关键词 <strong>BOOT SAFE_OS</strong>，百度 pass），看了所有相关的 Microsoft Community 的文章（鹰文），唯一有用的是发现不止窝一个，有很多人有同样的错误。里面的 MS 帮助人员也列出了一些解决措施，包括 set EDB (<a href="http://www.webopedia.com/TERM/E/Execute_Disable_Bit.html" target="_blank" rel="external">Execute Disable Bit</a>) to Enable 之类的，但是没什么卵用。</p>
<p>继续 Google 和在 pcbeta 之类的论坛搜索，发现也有人发帖说 Install Windows 10166 on G3258 failed，窝一看就觉得大概是这个了，帖子描述的错误码和症状和窝一模一样而且窝也是 Intel G3258 on E85m motherboard。</p>
<p>遂再次 Google 之，又看了一大堆 MS community 的文，最后锁定搜索关键词为 <strong>Windows 10 G3258</strong></p>
<p>可以看到有很多出现此问题的人，描述的内容也都是 0xC1900101 – 0X20017 而且10130 及之前都是 no problem</p>
<p>其中最有用的帖子大概是这个：<a href="https://social.technet.microsoft.com/Forums/en-US/15d85ab2-9fc5-4683-96d6-7770a40284d4/windows-10-new-builds-wont-boot?forum=WinPreview2014Setup" target="_blank" rel="external">Windows 10 – new builds won’t boot</a></p>
<h3 id="所以目前唯一的解决办法就是在-BIOS-中将-CPU-核心数调为-1"><a href="#所以目前唯一的解决办法就是在-BIOS-中将-CPU-核心数调为-1" class="headerlink" title="所以目前唯一的解决办法就是在 BIOS 中将 CPU 核心数调为 1"></a>所以目前唯一的解决办法就是在 BIOS 中将 CPU 核心数调为 1</h3><p>但是将双核 U 调成单核这吃了屎一般的感觉。。只好等 MS 在 29th 的发布了，如果还没有解决的话窝估计要投奔 linux 的怀抱了</p>
<p>目前没有在主用 PC 上装 elementray OS freya 就是怕双亲用不习惯。。想艹黑苹果但是 G3258 好像也会有奇怪的问题。。</p>
<p>真是多灾多难呐， G3258。</p>
          <a class="more-link" href="/windows-10130-plus-cant-be-installed-on-g3258/#more">阅读全文&rarr;</a>
        
      </div>

      <div class="post-meta clf">
  <span class="pmt pms fa-book">
    
      <a class="category-link" href="/categories/tech/">技术</a>
    
  </span>
  <span class="pmt pms fa-clock-o">2015-07-25</span>
  <span class="pmt pms fa-eye">
    <span id="post-view" data="windows-10130-plus-cant-be-installed-on-g3258/">Loading</span> Hits
  </span>
  <span class="pmt pms extra fa-tag">
    
      <a class="tag-link" href="/tag/Windows/">Windows</a>
    
  </span>
</div>

    </article>
  
    

    <article class="post post-type-normal hentry">
      <h2 class="post-title">
        <a href="/chrome-hsts/">Chrome 下使支持 https 的站点默认使用 ssl 加密</a>
      </h2>

      <div class="post-content">
        
          <p>有些网站比如 V2EX 支持 https 但是不强制使用 https，在 chrome 下我们可以通过设置使访问 V2EX 强制使用 https 。</p>
<p>方法很简单，在 <a href="chrome://net-internals/#hsts" target="_blank" rel="external">chrome://net-internals/#hsts</a> 中添加需要使用 HSTS 的站点即可。</p>
<blockquote>
<p>HSTS (HTTP Strict Transport Security)，HTTP严格传输安全，是一套由互联网工程任务组发布的互联网安全策略机制。网站可以选择使用HSTS策略，来让浏览器强制使用HTTPS与网站进行通信，以减少会话劫持风险。</p>
</blockquote>
<p>HSTS 的作用是强制客户端（如浏览器）使用HTTPS与服务器创建连接。</p>
<p>比如，<a href="https://example.com/" target="_blank" rel="external">https://example.com/</a> 的响应头含有 <span class="lang:default decode:true  crayon-inline ">Strict-Transport-Security: max-age=31536000; includeSubDomains</span> 。这意味着两点：</p>
<ol>
<li>在接下来的一年（即31536000秒）中，浏览器只要向 example.com 或其子域名发送 HTTP 请求时，必须采用 HTTPS 来发起连接。比如，用户点击超链接或在地址栏输入 <a href="http://www.example.com/" target="_blank" rel="external">http://www.example.com/</a> ，浏览器应当自动将 http 转写成 https，然后直接向 <a href="https://www.example.com/" target="_blank" rel="external">https://www.example.com/</a> 发送请求。</li>
<li>在接下来的一年中，如果 example.com 服务器发送的 TLS 证书无效，用户不能忽略浏览器警告继续访问网站。</li>
</ol>
<p>以上内容引自 <a href="https://zh.wikipedia.org/wiki/HTTP%E4%B8%A5%E6%A0%BC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8" target="_blank" rel="external">中文维基百科</a>。</p>

        
      </div>

      <div class="post-meta clf">
  <span class="pmt pms fa-book">
    
      <a class="category-link" href="/categories/tech/">技术</a>
    
  </span>
  <span class="pmt pms fa-clock-o">2015-07-24</span>
  <span class="pmt pms fa-eye">
    <span id="post-view" data="chrome-hsts/">Loading</span> Hits
  </span>
  <span class="pmt pms extra fa-tag">
    
      <a class="tag-link" href="/tag/Chrome/">Chrome</a>, <a class="tag-link" href="/tag/Https/">Https</a>
    
  </span>
</div>

    </article>
  
    

    <article class="post post-type-normal hentry">
      <h2 class="post-title">
        <a href="/ice-beer-saikou-da/">やっぱり夏とゆうならばアイスビールだよねえ～♥</a>
      </h2>

      <div class="post-content">
        
          <p><a href="http://www.pixiv.net/member_illust.php?mode=medium&amp;illust_id=48077065" target="_blank" rel="external"><img src="https://img.blessing.studio/images/2015/07/2015-07-22_14-57-59.jpg" alt="48077065_p0"></a></p>
<p>ビール最高だあああああああああ～♥　おっぱいも～♥</p>

        
      </div>

      <div class="post-meta clf">
  <span class="pmt pms fa-book">
    
      <a class="category-link" href="/categories/diary/">日常</a>
    
  </span>
  <span class="pmt pms fa-clock-o">2015-07-23</span>
  <span class="pmt pms fa-eye">
    <span id="post-view" data="ice-beer-saikou-da/">Loading</span> Hits
  </span>
  <span class="pmt pms extra fa-tag">
    
      <a class="tag-link" href="/tag/绘画/">绘画</a>
    
  </span>
</div>

    </article>
  

  
  <div id="p-nav" class="clf">
    <nav class="navigation pagination" role="navigation">
      <div class="nav-links">
          <a class="extend prev" rel="prev" href="/page/15/">Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><a class="page-number" href="/page/18/">18</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><a class="extend next" rel="next" href="/page/17/">Next</a>
      </div>
    </nav>
  </div>






        </div>

        <div id="sidebar" class="fl">

  <div id="abovesb">
    <div class="card">
      <div class="gr center">
        <p id="music-toggle">
          <i class="fa fa-play-circle" aria-hidden="true"></i>
        </p>
        <img src="/images/avatar.jpg" width="112" height="112">
      </div>

      <div class="blogname">Blessing Studio</div>
      <div class="blogdesc">半吊子全栈开发者的日常</div>

      <div class="sbmenu">
        <div class="menu-container">
          <ul class="menu">
  
    
    <li class="menu-item menu-item-popular">
      <a href="/popular-posts" title="(=ﾟωﾟ)=" rel="section">
        <i class="fa fa-star"></i>最受欢迎的文章
      </a>
    </li>
  
    
    <li class="menu-item menu-item-friends">
      <a href="/friends" title="友情链接" rel="section">
        <i class="fa fa-link"></i>我的小伙伴们
      </a>
    </li>
  
    
    <li class="menu-item menu-item-about">
      <a href="/about" title="(*ﾟ∀ﾟ*)" rel="section">
        <i class="fa fa-code"></i>关于我
      </a>
    </li>
  
</ul>

        </div>
      </div>
    </div>
    
    <div id="music-player" class="aplayer hide rotated"></div>
  </div>

  <script type="text/javascript">nanobar.go(40);</script>

  <div id="sb">
    
<div id="sbpin">
  
  <div class="clf widget-item widget_text">
    <div class="textwidget">
      <script type="text/javascript" src="https://work.prinzeugen.net/hitokoto/hitokoto.php?encode=javascript"></script>
      <p id="hitokoto"><script>hitokoto();</script></p>
    </div>
  </div>

  
  <div class="clf widget-item widget_text">
    <div class="textwidget">
      <div class="like-widget">
        <p class="like-title">Do you like me ?</p>
        <div style="margin: -3px 0 -2px;">
          <a class="like-vote">
            <i id="heart" class="fa fa-heart-o"></i> <span id="count"><span>
          </a>
        </div>
      </div>
    </div>
  </div>

</div>

  </div>

</div>

      </div><!-- #container -->

      <div id="foot" class="fw">
        <div id="bottom" class="fw">
  <div id="footer" class="wc center clf">
    <div class="info">
      <p>Copyleft 2017 <a href="https://blessing.studio">Blessing Studio</a>. Proudly published with <a href="https://hexo.io/" target="_blank">Hexo</a>. Made with ❤ by printempw.</p>
    </div>
  </div>
</div>

      </div>

    </div><!-- #pageframe.fw -->
    <script type="text/javascript">nanobar.go(80);</script>

    <div class="back-to-top">
      <span class="fa fa-angle-up"></span>
    </div>

    <script src="/js/jquery-2.2.0.min.js"></script>
<script src="/js/jquery.libs.js"></script>
<script src="/js/highlight.min.js"></script>
<script src="/libs/fancybox/source/jquery.fancybox.pack.js"></script>
<script src="/js/script.js"></script>

    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-65656002-1', 'auto');
  ga('send', 'pageview');

</script>


    <script type="text/javascript">
    $("a.like-vote").mouseover(function() {
        $("#heart").removeClass("fa-heart-o");
        $("#heart").addClass("fa-heart");
    });

    $("a.like-vote").mouseout(function() {
        $("#heart").removeClass("fa-heart");
        $("#heart").addClass("fa-heart-o");
    });

    $.getJSON("//work.prinzeugen.net/do-you-like-me/like.php?action=get", function (data) {
        $('#count').html(data.like);
    });

    $('.like-vote').click(function () {
        if ($('.like-title').html() === 'Do you like me ?') {
            $.getJSON("//work.prinzeugen.net/do-you-like-me/like.php?action=add", function (data) {
                if (data.success) {
                    $('#count').fadeOut(200);
                    $('#count').html(String(parseInt(data.like)));
                    $('#count').fadeIn(200);
                    $('.like-title').html('我也喜欢你 (*≧▽≦)');
                }
                else {
                    $('.like-title').html('你的爱我已经感受到了~');
                }
            });
        }
    });
</script>

    <style type="text/css">
    .menu-item-kaomoji a {
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
    }

    .info-rise {
        z-index: 99999;
        position: absolute;
        padding: 0 4px;
        border-radius: 1px;
        background-color: #f69;
        box-shadow: 0 0 1px rgba(0,0,0,0.1);
        color: #fff;
        text-align: center;
        font-size: 12px;
        line-height: 1.5;
        cursor: default
    }
</style>

<script type="text/javascript">
    var kaomoji_array = ["|∀ﾟ", "(´ﾟДﾟ`)", "(;´Д`)", "(｀･ω･)", "(=ﾟωﾟ)=", "| ω・´)", "|-` )", "|д` )", "|ー` )", "|∀` )", "(つд⊂)", "(ﾟДﾟ≡ﾟДﾟ)", "(＾o＾)ﾉ", "(|||ﾟДﾟ)", "( ﾟ∀ﾟ)", "( ´∀`)", "(*´∀`)", "(*ﾟ∇ﾟ)", "(*ﾟーﾟ)", "(　ﾟ 3ﾟ)", "( ´ー`)", "( ・_ゝ・)", "( ´_ゝ`)", "(*´д`)", "(・ー・)", "(・∀・)", "(ゝ∀･)", "(〃∀〃)", "(*ﾟ∀ﾟ*)", "( ﾟ∀。)", "( `д´)", "(`ε´ )", "(`ヮ´ )", "σ`∀´)", " ﾟ∀ﾟ)σ", "ﾟ ∀ﾟ)ノ", "(╬ﾟдﾟ)", "(|||ﾟдﾟ)", "( ﾟдﾟ)", "Σ( ﾟдﾟ)", "( ;ﾟдﾟ)", "( ;´д`)", "(　д ) ﾟ ﾟ", "( ☉д⊙)", "(((　ﾟдﾟ)))", "( ` ・´)", "( ´д`)", "( -д-)", "(>д<)", "･ﾟ( ﾉд`ﾟ)", "( TдT)", "(￣∇￣)", "(￣3￣)", "(￣ｰ￣)", "(￣ . ￣)", "(￣皿￣)", "(￣艸￣)", "(￣︿￣)", "(￣︶￣)", "ヾ(´ωﾟ｀)", "(*´ω`*)", "(・ω・)", "( ´・ω)", "(｀・ω)", "(´・ω・`)", "(`・ω・´)", "( `_っ´)", "( `ー´)", "( ´_っ`)", "( ´ρ`)", "( ﾟωﾟ)", "(oﾟωﾟo)", "(　^ω^)", "(｡◕∀◕｡)", "/( ◕‿‿◕ )\\", "ヾ(´ε`ヾ)", "(ノﾟ∀ﾟ)ノ", "(σﾟдﾟ)σ", "(σﾟ∀ﾟ)σ", "|дﾟ )", "┃電柱┃", "ﾟ(つд`ﾟ)", "ﾟÅﾟ )　", "⊂彡☆))д`)", "⊂彡☆))д´)", "⊂彡☆))∀`)", "(´∀((☆ミつ"];
    var hits = 0;
    var start_time = 0;

    $('.menu-item-kaomoji a').click(function(e) {

        if (start_time == 0) start_time = Date.now();

        hits ++;

        if (hits % 5 === 0) {
            index = Math.floor(Math.random() * kaomoji_array.length);
            $(this).html(kaomoji_array[index]);
        }

        x = $(this).offset().left + $(this).width();
        y = $(this).offset().top + $(this).height();

        if (hits % 50 === 0) {
            var duration = 2000;
            // actions per minite
            var apm = parseInt(hits / ((Date.now() - start_time) / 1000) * 60);
            start_time = 0;
            hits = 0;
            hit = $('<span class="info-rise" style="border: 1px solid #ffd6e4;font-size:13.5px;z-index:9999999;">手速：'+apm+' actions/min </span>');

            console.log('APM: '+apm);
        } else {
            var duration = 500;
            hit = $('<span class="info-rise">+1</span>');
        }

        hit.appendTo($("body"));

        hit.css({
            opacity: 0,
            left: x,
            top: y
        }).animate({
            opacity: 1,
            top: y - 16
        }, 250).animate({
            opacity: 1,
            top: y - 20
        }, duration).animate({
            top: y - 20
        }, duration).animate({
            opacity: 0,
            top: y - 32
        }, 250, function() {
            return $(this).remove();
        });

    });
</script>

    <style type="text/css">
    .p-load-gist {
        margin: 25px 0 25px !important;
        text-align: center;
    }
</style>

<script type="text/javascript">
    $('.load-gist').on('click', function() {
        var gist = {
            url: '//work.prinzeugen.net/gist/printempw/' + $(this).data('hash') + '.json?callback=?',
            dom: this
        };

        $.getJSON(gist.url, function(data) {
            gist.style      = document.createElement('link');
            gist.style.type = 'text/css';
            gist.style.rel  = 'stylesheet';
            gist.style.href = data.stylesheet;

            document.getElementsByTagName('HEAD')[0].appendChild(gist.style);

            $(gist.dom).after(data.div).remove();
        });
    });
</script>

    <script type="text/javascript">
    String.prototype.cleanSlug = function () {
        var search = '/index.html';

        if (this.indexOf(search) === -1) {
            return this.slice(0, -1)
        } else {
            return this.replace(search, '');
        }
    }

    var Counter = function (url) {
        this.baseCounterUrl = url;

        this.initAllPostViews = function () {
            var self = this;

            // 遍历 post-view
            $('[id=post-view]').each(function () {
                // 默认 PV 设为 0
                var span = $(this).html(0);
                var slug = span.attr('data').cleanSlug();

                self.getPostViewBySlug(slug, function (pv) {
                    span.html(pv);
                })
            });
        }

        this.getPostViewBySlug = function (slug, callback) {
            var url = this.baseCounterUrl + '/get/' + slug;

            $.getJSON(url, function (data) {
                callback(data.pv);
            });
        }

        this.incPostViewBySlug = function (slug) {
            var url = this.baseCounterUrl + '/increase/' + slug;

            $.post(url, {}, function (data) {
                $('#post-view').html(data.pv);
            });
        }
    }

    var counter = new Counter('https://work.prinzeugen.net/hexo-view-counter');

    $(document).ready(function () {
        counter.initAllPostViews();
    });
</script>



    <script src="/js/APlayer.min.js"></script>
<script type="text/javascript">
    var player = undefined;

    $.getJSON('https://work.prinzeugen.net/music/play_list.json', function (json) {
        // APlayer.addMusic sucks
        // And APlayer does not provide any method to remove
        // the automatically added music [undefined]
        player = new APlayer({
            element: document.getElementById('music-player'),
            narrow: false,
            autoplay: false,
            showlrc: false,
            mutex: true,
            preload: 'none',
            theme: '#367FA9',
            music: json
        });

        console.log('Music player initialized', json);
    });

    $('#music-toggle').click(function () {
        if (player === undefined) {
            return;
        }

        $('.card').addClass('rotated').addClass('hide');

        // I don't know why APlayer 1.6.0 tends to
        // attach "height: 0px" style to .aplayer-list automatically
        $('.aplayer-list').removeAttr('style')

        $('#music-player').removeClass('hide');

        $('#abovesb').css('padding', 0);

        setTimeout(function () {
            $('#music-player').removeClass('rotated');
        }, 10);
    });

    $('body').on('click', '.aplayer-icon-menu', function () {
        $('.aplayer-list').removeClass('aplayer-list-hide');

        $('#music-player').addClass('rotated').addClass('hide');

        $('.card').removeClass('hide');

        setTimeout(function () {
            $('.card').removeClass('rotated');
        }, 10);

        $('#abovesb').css('padding', '7px 0 1px');
    });
</script>


    

    <script type="text/javascript">nanobar.go(100);</script>
  </body>
</html>
